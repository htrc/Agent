
htrc {

  debug {
    token = "FAKE_TOKEN"
  }

  solr_proxy = "http://chinkapin.pti.indiana.edu:9994/solr"
  output_dir = "job_results"

  data_api {
    url = "https://silvermaple.pti.indiana.edu:25443"
  }

  results {
    url = "https://htrc2.pti.indiana.edu/result/"
    location = "/hathitrustmnt/chinkapin/agent_job_results"
  }

  registry {
    host = "chinkapin.pti.indiana.edu"
    version = "1.0.5-SNAPSHOT"
    saved_job_location = "jobs"
    port = 9443
  }

  compute {
    job-scheduler = "PBS"
    local_resource_type = "quarry"
    job_throttling = false
    max_jobs = 5
  }    

  bigred2 {
    user = "drhtrc@bigred2.uits.iu.edu"
    working-dir = "/N/dc2/scratch/drhtrc/agent_working_directories"
    dependency-dir = "/N/dc2/scratch/drhtrc/agent_dependencies"
    java-command = "'ccmrun\\ java'"
    java-max-heap-size = "-Xmx8g"
    job-status-poll-script = "/N/dc2/scratch/drhtrc/agent_dependencies/qstatLoop.sh"
    qsub-options = "-N htrcjob -q cpu -l gres=ccm -l nodes=1:ppn=32"

    PBS-walltimes {
      algorithm-walltimes {
        Meandre_Classification_NaiveBayes = [[0, 200, "01:00:00"], [201, 500, "02:00:00"], [501, 1000, "03:00:00"], [1001, 2000, "05:00:00"], [2001, 5000, "07:00:00"]]
        Meandre_Dunning_LogLikelihood_to_Tagcloud = [[0, 100, "01:00:00"], [101, 250, "02:00:00"], [251, 1000, "04:00:00"], [1001, 2000, "07:00:00"], [2001, 5000, "10:00:00"]]
        Meandre_OpenNLP_Date_Entities_To_Simile = [[0, 50, "00:30:00"], [51, 100, "01:00:00"], [101, 500, "02:30:00"], [501, 1000, "04:00:00"], [1001, 1500, "06:00:00"], [1501, 5000, "10:00:00"]]
        Meandre_OpenNLP_Entities_List = [[0, 100, "00:30:00"], [101, 250, "01:00:00"], [251, 500, "02:00:00"], [501, 1000, "03:00:00"], [1001, 1500, "04:00:00"], [1501, 5000, "10:00:00"]]
        Meandre_Spellcheck_Report_Per_Volume = [[0, 200, "00:30:00"], [201, 500, "01:00:00"], [501, 1000, "03:00:00"], [1001, 2000, "05:00:00"], [2001, 5000, "10:00:00"]]
        Meandre_Tagcloud = [[0, 500, "01:00:00"], [501, 1000, "02:00:00"], [1001, 2500, "03:00:00"], [2501, 3500, "05:00:00"], [3501, 5000, "07:00:00"]]
        Meandre_Tagcloud_with_Cleaning = [[0, 200, "01:00:00"], [201, 500, "01:30:00"], [501, 1000, "03:00:00"], [1001, 2000, "05:00:00"], [2001, 5000, "07:00:00"]]
        Meandre_Topic_Modeling = [[0, 200, "01:00:00"], [201, 1000, "03:00:00"], [1001, 1500, "05:00:00"], [1501, 2000, "06:00:00"], [2001, 5000, "10:00:00"]]
      }

      no-volume-count-walltimes {
        Marc_Downloader = "00:30:00"
        Simple_Deployable_Word_Count = "00:30:00"
      }

      max-walltime = "10:00:00"
    }
  }

  quarry {
    user = "drhtrc@quarry.uits.indiana.edu"
    working-dir = "/N/dc/scratch/drhtrc/agent_working_directories"
    dependency-dir = "/N/dc/scratch/drhtrc/agent_dependencies"
    java-command = "java"
    java-max-heap-size = "-Xmx8g"
    job-status-poll-script = "/N/dc/scratch/drhtrc/agent_dependencies/qstatLoop.sh"
    qsub-options = "-N htrcjob -l nodes=1:ppn=8"

    PBS-walltimes {
      algorithm-walltimes {
        Meandre_Classification_NaiveBayes = [[0, 200, "01:00:00"], [201, 500, "02:00:00"], [501, 1000, "03:00:00"], [1001, 2000, "05:00:00"], [2001, 5000, "07:00:00"]]
        Meandre_Dunning_LogLikelihood_to_Tagcloud = [[0, 100, "01:00:00"], [101, 250, "02:00:00"], [251, 1000, "04:00:00"], [1001, 2000, "07:00:00"], [2001, 5000, "10:00:00"]]
        Meandre_OpenNLP_Date_Entities_To_Simile = [[0, 50, "00:30:00"], [51, 100, "01:00:00"], [101, 500, "02:30:00"], [501, 1000, "04:00:00"], [1001, 1500, "06:00:00"], [1501, 5000, "10:00:00"]]
        Meandre_OpenNLP_Entities_List = [[0, 100, "00:30:00"], [101, 250, "01:00:00"], [251, 500, "02:00:00"], [501, 1000, "03:00:00"], [1001, 1500, "04:00:00"], [1501, 5000, "10:00:00"]]
        Meandre_Spellcheck_Report_Per_Volume = [[0, 200, "01:00:00"], [201, 500, "02:00:00"], [501, 1000, "03:00:00"], [1001, 2000, "05:00:00"], [2001, 5000, "10:00:00"]]
        Meandre_Tagcloud = [[0, 500, "01:00:00"], [501, 1000, "03:00:00"], [1001, 2500, "04:00:00"], [2501, 3500, "05:00:00"], [3501, 5000, "07:00:00"]]
        Meandre_Tagcloud_with_Cleaning = [[0, 200, "01:00:00"], [201, 500, "01:30:00"], [501, 1000, "03:00:00"], [1001, 2000, "05:00:00"], [2001, 5000, "07:00:00"]]
        Meandre_Topic_Modeling = [[0, 200, "01:00:00"], [201, 1000, "03:00:00"], [1001, 1500, "05:00:00"], [1501, 2000, "06:00:00"], [2001, 5000, "10:00:00"]]
      }

      no-volume-count-walltimes {
        Marc_Downloader = "00:30:00"
        Simple_Deployable_Word_Count = "00:30:00"
      }

      max-walltime = "10:00:00"
    }
  }

  odin {
    user = "hathitrust@odin.cs.indiana.edu"
    working-dir = "/u/hathitrust/agent_working_directories"
    dependency-dir = "/u/hathitrust/agent_dependencies"
    java-command = "/usr/lib/jvm/java-1.7.0-oracle-1.7.0.25.x86_64/jre/bin/java"
    java-max-heap-size = "-Xmx4g"
  }

  shell {
    user = ""
    working-dir = "/data1/htrc/htrc-agent/trunk/agent_working_directories"
    dependency-dir = "/home/hathitrust/agent_dependencies"
    java-command = "java"
    java-max-heap-size = "-Xmx4g"
    home-dir = "/home/hathitrust"
  }

  job-parameters {
    num-volumes-param-name = "random_sample#count"
  }

  alg-with-no-header-in-worksets = ["Marc_Downloader", "Simple_Deployable_Word_Count"]
}

spray {
  port = 9000
}
